#*************************************************************************
 #
 # ADOBE CONFIDENTIAL
 # ___________________
 #
 #  Copyright 2016 Adobe Systems Incorporated
 #  All Rights Reserved.
 #
 # NOTICE:  All information contained herein is, and remains
 # the property of Adobe Systems Incorporated and its suppliers,
 # if any.  The intellectual and technical concepts contained
 # herein are proprietary to Adobe Systems Incorporated and its
 # suppliers and are protected by trade secret or copyright law.
 # Dissemination of this information or reproduction of this material
 # is strictly forbidden unless prior written permission is obtained
 # from Adobe Systems Incorporated.
 #*************************************************************************/

@prefix core: <http://ns.adobe.com/adobecloud/core/1.0/> . # TODO TBD define namespace URI
@prefix meta: <http://ns.adobe.com/adobecloud/meta/1.0/> . # TODO TBD define namespace URI
@prefix xmp: <http://ns.adobe.com/xap/1.0/> .
@prefix xmpMM: <http://ns.adobe.com/xap/1.0/mm/> .
@prefix xmpRights: <http://ns.adobe.com/xap/1.0/rights/> .
@prefix stDim: <http://ns.adobe.com/xap/1.0/sType/Dimensions#> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace/> .

# TODO schema definition vocabulary: use/leverage owl:imports, rdfs:seeAlso , rdfs:isDefinedBy, skos:definition, etc ?

<> a owl:Ontology ;
  dc:title "Adobe Cloud Core Asset Data Model" ;
  rdfs:comment "An RDF/S Schema for the Adobe Cloud Core Asset Data Model" .

# RDF-compatible XSD types used in this schema, defined for documentation purposes (see https://www.w3.org/TR/rdf11-concepts/#xsd-datatypes)

xsd:string a rdfs:Datatype ;
  rdfs:label "String" ;
  rdfs:comment "Character strings (but not all Unicode character strings)" ;
  rdfs:seeAlso <https://www.w3.org/TR/rdf11-concepts/#xsd-datatypes> .

xsd:boolean a rdfs:Datatype ;
  rdfs:label "Boolean" ;
  rdfs:comment "true, false" ;
  rdfs:seeAlso <https://www.w3.org/TR/rdf11-concepts/#xsd-datatypes> ;
  owl:withRestrictions (
    [
      xsd:pattern "(true|false)"
    ]
  ) .

xsd:decimal a rdfs:Datatype ;
  rdfs:label "Decimal" ;
	rdfs:comment "Arbitrary-precision decimal numbers" ;
  rdfs:seeAlso <https://www.w3.org/TR/rdf11-concepts/#xsd-datatypes> ;
	owl:withRestrictions (
		[
			xsd:pattern "[+-]?[0-9]*\\.?[0-9]*"
		]
	) .

xsd:integer a rdfs:Datatype ;
  rdfs:label "Integer" ;
	rdfs:comment "Arbitrary-size integer numbers" ;
  owl:onDatatype xsd:decimal ;
  rdfs:seeAlso <https://www.w3.org/TR/rdf11-concepts/#xsd-datatypes> ;
  owl:withRestrictions (
    [
      xsd:pattern "[-+]?[0-9]+"
    ] [
      xsd:fractionDigits 0
    ]
  ) .

xsd:double a rdfs:Datatype ;
  rdfs:label "Double" ;
  rdfs:comment "64-bit floating point numbers incl. ±Inf, ±0, NaN" ;
  rdfs:seeAlso <https://www.w3.org/TR/rdf11-concepts/#xsd-datatypes> ;
  owl:withRestrictions (
    [
      xsd:pattern "[+-]?[0-9]*\\.?[0-9]*([eE][-+]?[0-9]+)"
    ]
  ) .

xsd:float a rdfs:Datatype ;
  rdfs:label "Float" ;
  rdfs:comment "32-bit floating point numbers incl. ±Inf, ±0, NaN" ;
  rdfs:seeAlso <https://www.w3.org/TR/rdf11-concepts/#xsd-datatypes> ;
  owl:onDatatype xsd:double .

xsd:date a rdfs:Datatype ;
  rdfs:label "Date" ;
  rdfs:comment "Dates (yyyy-mm-dd) with or without timezone" ;
  rdfs:seeAlso <https://www.w3.org/TR/rdf11-concepts/#xsd-datatypes> ;
	owl:withRestrictions (
		[
			xsd:pattern "-?[0-9][0-9][0-9][0-9]([0-9]*)?-(0[1-9]|1[0-1])-([0-3][1-9])([+-][0-1][0-9]:[0-6][0-9])?"
		]
	) .

xsd:time a rdfs:Datatype ;
  rdfs:label "Time" ;
  rdfs:comment "Times (hh:mm:ss.sss…) with or without timezone" ;
  rdfs:seeAlso <https://www.w3.org/TR/rdf11-concepts/#xsd-datatypes> ;
	owl:withRestrictions (
		[
			xsd:pattern "[1-2][0-9]:[0-5][0-9]:[0-5][0-9].[0-9][0-9][0-9]"
		]
	) .

xsd:dateTime a rdfs:Datatype ;
  rdfs:label "DateTime" ;
  rdfs:seeAlso <https://www.w3.org/TR/rdf11-concepts/#xsd-datatypes> ;
  rdfs:comment "Date and time with or without timezone" .

xsd:dateTimeStamp a rdfs:Datatype ;
  rdfs:label "DateTimeStamp" ;
  rdfs:seeAlso <https://www.w3.org/TR/rdf11-concepts/#xsd-datatypes> ;
  rdfs:comment "Date and time with required timezone" .

# derived data types

xml:lang a rdfs:Datatype ;
  owl:onDatatype xsd:string ;
  rdfs:comment """Language string as defined in IETF RFC 3066""" .

xmp:Dimensions a rdfs:Class ;
  rdfs:label "Dimensions"@en ;
  rdfs:comment "A structure containing dimensions for a drawn object." .

stDim:h a rdf:Property ;
  rdfs:label "Height"@en ;
  rdfs:comment "Height magnitude" ;
  rdfs:domain xmp:Dimensions ;
  rdfs:range xsd:float .

stDim:w a rdf:Property ;
  rdfs:label "Width"@en ;
  rdfs:comment "Width magnitude" ;
  rdfs:domain xmp:Dimensions ;
  rdfs:range xsd:float .

stDim:unit a rdf:Property ;
  rdfs:label "Units"@en ;
  rdfs:comment "Units. For example: inch, mm, pixel, pica, point" ;
  rdfs:domain xmp:Dimensions ;
  rdfs:range xsd:string .

xmp:Text a rdfs:Datatype ;
  rdfs:label "Text"@en ;
  owl:onDatatype xsd:string ;
  rdfs:comment """A possibly empty Unicode string""" .

xmp:AgentName a rdfs:Datatype ;
  rdfs:label "AgentName"@en ;
  owl:onDatatype xmp:Text ;
  rdfs:comment """The name of an XMP processor, a Text value.
It is recommended that the value use this format convention:
Organization Software_name Version (token;token;...)
- Organization: The name of the company or organization providing the software, no SPACEs.
- Software_name: The full name of the software, SPACEs allowed.
- version: The version of the software, no SPACEs.
- tokens: Can be used to identify an operating system, plug-in, or more detailed version information.""" .

xmp:ProperName a rdfs:Datatype ;
  rdfs:label "ProperName"@en ;
  owl:onDatatype xsd:string ;
  rdfs:comment """A simple text value denoting the name of a person or organization.”""" .

xmp:GUID a rdfs:Datatype ;
  rdfs:label "GUID"@en ;
  owl:onDatatype xsd:string ;
  rdfs:comment """A string representing a “globally unique identifier”""" .

core:properNameItem a rdf:Property ;
  rdfs:subPropertyOf rdf:li;
  rdfs:range xmp:ProperName ;
  rdfs:domain core:ListOfProperNames .

core:ListOfProperNames a rdfs:Class ;
  rdfs:label "ListOfProperNames"@en ;
  rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty core:properNameItem ;
    owl:allValuesFrom xmp:ProperName ;
  ].

## structure for defining Language Alternatives as per XMP spec

xmp:LanguageAlternativeText a rdf:Property ;
  rdfs:range xsd:string ;
  rdfs:domain xmp:LanguageAlternativeClass .

xmp:LanguageAlternativeLang a rdf:Property ;
  rdfs:range xml:lang ;
  rdfs:domain xmp:LanguageAlternativeClass .

xmp:LanguageAlternativeClass a rdfs:Class ;
  rdfs:subClassOf rdfs:Resource .

xmp:LanguageAlternativeItem  a rdf:Property ;
  rdfs:subPropertyOf rdf:li;
  rdfs:range xmp:LanguageAlternativeClass ;
  rdfs:domain xmp:LanguageAlternative .

xmp:LanguageAlternative  a rdfs:Class ;
  rdfs:label "LanguageAlternative"@en ;
  rdfs:subClassOf [ 
    a owl:Restriction ; 
    owl:onProperty xmp:LanguageAlternativeItem ;
    owl:allValuesFrom xmp:LanguageAlternativeClass ;
  ].

# abstract base classes for schema classes and properties

core:BaseClass a rdfs:Class ;
  rdfs:label "BaseClass"@en ;
  rdfs:comment "Base class of all Data Model Classes" ;
  rdfs:subClassOf rdfs:Resource .

core:BaseProperty a rdfs:Class ;
  rdfs:label "BaseProperty"@en ;
  rdfs:comment "Base class of all Data Model Properties" ;
  rdfs:domain core:BaseClass ;
  rdfs:range rdfs:Datatype ;
  rdfs:subClassOf rdf:Property .

# schema defintion vocabulary extensions

meta:access a rdf:Property ;
  rdfs:label "Access"@en ;
  rdfs:comment "read, write, readwrite" ;
  rdfs:domain core:BaseProperty ;
  skos:note "corresponds to RelaxNG XMP Schema" ;
  rdfs:range xsd:string .

meta:jsonName a rdf:Property ;
  rdfs:label "JSON Name"@en ;
  rdfs:comment "Name of the property in JSON serialization" ;
  rdfs:domain core:BaseProperty ;
  rdfs:range xsd:string .

meta:repositoryImmutable a rdf:Property ;
  rdfs:label "repositoryImmutable"@en ;
  # corresponds to 'Immutability' column
  rdfs:comment "resource property cannot be modified after resource creation" ;
  rdfs:domain core:BaseProperty ;
  rdfs:range xsd:boolean .

### Asset

core:Asset a rdfs:Class ;
  rdfs:label "Asset"@en ;
  rdfs:comment "OneAdobe Cloud Asset Core Class" ;
  rdfs:subClassOf core:BaseClass .

#### Property section: Asset Identity

xmpMM:DocumentID a core:BaseProperty ;
  # XMP uses inconistent naming conventions/cases: by convention property names should be camel case and start with lower case
  rdfs:isDefinedBy <http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/xmp/pdfs/XMP%20SDK%20Release%20cc-2014-12/XMPSpecificationPart1.pdf> ;
  rdfs:label "Document ID"@en ;
  rdfs:comment "The common identifier for all versions and renditions of a resource." ;
  rdfs:range xmp:GUID ;
  meta:jsonName "document_id" ;
  meta:access "read" ;
  skos:note "" ;  # TODO
  skos:example "uuid:d4546407-8e2c-4194-be3b-98ef79696e2c" ;
  # TODO TBD 'mandatory'?
  rdfs:domain core:Asset .

core:assetName a core:BaseProperty ;
  rdfs:label "Asset name"@en ;
  rdfs:comment "Name of the asset in the repository" ;
  rdfs:range xsd:string ;
  meta:jsonName "asset_name" ;
  meta:access "readwrite" ;
  skos:note "" ;  # TODO
  skos:example "" ;  # TODO
  rdfs:domain core:Asset .

#### Property section: Asset Creation

xmp:CreateDate a core:BaseProperty ;
  # XMP uses inconistent naming conventions/cases: by convention property names should be camel case and start with lower case
  rdfs:isDefinedBy <http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/xmp/pdfs/XMP%20SDK%20Release%20cc-2014-12/XMPSpecificationPart1.pdf> ;
  rdfs:label "Date Created"@en ;
  #rdfs:comment "Date and Time media was originally created." ;
  rdfs:comment "The date and time the resource was created. For a digital file, this need not match a file-system creation time. For a freshly created resource, it should be close to that time, modulo the time taken to write the file. Later file transfer, copying, and so on, can make the file-system time arbitrarily different." ;
  rdfs:range xsd:dateTime ;
  meta:jsonName "create_date" ;
  meta:access "readwrite" ;
  skos:note """YYYY
YYYY-MM
YYYY-MM-DD
YYYY-MM-DDThh:mmTZD
YYYY-MM-DDThh:mm:ssTZD
YYYY-MM-DDThh:mm:ss.sTZD""" ;
  skos:example "1600" ;
  # TODO TBD 'mandatory'?
  rdfs:domain core:Asset .

core:firstUploadDate a core:BaseProperty ;
  rdfs:label "Date Initally Uploaded"@en ;    #rdfs:comment "Date and Time media was originally created." ;
  rdfs:comment "The date and time when the file was first uploaded to the cloud. It will be the server time." ;
  meta:repositoryImmutable "true" ;
  rdfs:range xsd:dateTime ;
  meta:jsonName "first_upload_date" ;
  skos:note "YYYY-MM-DDThh:mm:ss.sTZD" ;
  skos:example "2016-07-12T12:13:05.123+01:00" ;
  # TODO TBD 'mandatory'?
  rdfs:domain core:Asset .

core:firstUploadedBy a core:BaseProperty ;
  rdfs:label "First uploaded by"@en ;
  rdfs:comment "ID of the user who first uploaded the asset" ;
  meta:repositoryImmutable "true" ;
  rdfs:range xsd:string ;
  meta:jsonName "first_uploaded_by" ;
  skos:note "" ;  # TODO
  skos:example "" ;  # TODO
  # TODO TBD 'mandatory'?
  rdfs:domain core:Asset .

xmp:CreatorTool a core:BaseProperty ;
  rdfs:label "Creator tool"@en ;
  rdfs:comment "Name of the application which authored the asset." ;
  rdfs:range xmp:AgentName ;
  meta:jsonName "creator_tool" ;
  meta:access "read" ;
  skos:note "" ;  # TODO
  skos:example "" ;  # TODO
  rdfs:domain core:Asset .

#### Property section: Asset Modification

core:lastModifiedDate a core:BaseProperty ;
  rdfs:label "Date Last Uploaded"@en ;
  rdfs:comment "The date and time when asset content or asset metadata was last modified in the repository. Adding of renditions won't change this date." ;
  rdfs:range xsd:dateTime ;
  meta:jsonName "last_modified_date" ;
  meta:access "read" ;
  skos:note "" ;  # TODO
  skos:example "" ;  # TODO
  # TODO TBD 'mandatory'?
  rdfs:domain core:Asset .

core:lastModifiedBy a core:BaseProperty ;
  rdfs:label "Last uploaded by"@en ;
  rdfs:comment "ID of the user who last uploaded the asset." ;
  meta:repositoryImmutable "true" ;
  rdfs:range xsd:string ;
  meta:jsonName "last_modified_by" ;
  meta:access "read" ;
  skos:note "" ;  # TODO
  skos:example "" ;  # TODO
  # TODO TBD 'mandatory'?
  rdfs:domain core:Asset .    

core:versionID a core:BaseProperty ;
  rdfs:label "Version ID"@en ;
  rdfs:comment "The version ID of the asset. It will be generated both on explicit and implicit save or upload." ;
  rdfs:range xsd:string ;
  meta:jsonName "version_id" ;
  meta:access "read" ;
  skos:note "" ;  # TODO
  skos:example "" ;  # TODO
  # TODO TBD 'mandatory'?
  rdfs:domain core:Asset . 

core:versionLabel a core:BaseProperty ;
  rdfs:label "Version label"@en ;
  rdfs:comment "A label given to a version of the asset. It is optional." ;
  rdfs:range xsd:string ;
  meta:jsonName "version_label" ;
  meta:access "read" ;
  skos:note "" ;  # TODO
  skos:example "" ;  # TODO
  rdfs:domain core:Asset . 

#### Property section: Asset Legal Information

xmpRights:WebStatement a core:BaseProperty ;
  # XMP uses inconistent naming conventions/cases: by convention property names should be camel case and start with lower case
  rdfs:label "Web statement"@en ;
  rdfs:comment "A Web URL for a statement of the ownership and usage rights for this resource." ;
  rdfs:range xmp:Text ;
  meta:jsonName "license_type" ;
  meta:access "readwrite" ;
  skos:note "This is a normal (non-URI) simple value because of historical usage" ;
  skos:example "http://creativecommons.org/licenses/by/4.0/" ;
  rdfs:domain core:Asset .

dc:rights a core:BaseProperty ;
  rdfs:label "Rights"@en ;
  rdfs:comment """Information about rights held in and over the resource.
Typically, rights information includes a statement about various property rights associated with the resource, including intellectual property rights.""" ;
  rdfs:range xmp:LanguageAlternative ;
  meta:jsonName "copyright_notice" ;
  meta:access "readwrite" ;
  skos:note "" ;  # TODO
  skos:example "" ;  # TODO
  rdfs:domain core:Asset .

xmpRights:Marked a core:BaseProperty ;
# XMP uses inconistent naming conventions/cases: by convention property names should be camel case and start with lower case
  rdfs:label "Marked"@en ;
  rdfs:comment """When true, indicates that this is a rights-managed resource. When false, indicates that this is a public-domain resource. Omit if the state is unknown.""" ;
  rdfs:range xsd:boolean ;
  meta:jsonName "rights_managed_asset" ;
  meta:access "readwrite" ;
  skos:note "" ;  # TODO
  skos:example "" ;  # TODO
  rdfs:domain core:Asset .

xmpRights:Owner a core:BaseProperty ;
  # XMP uses inconistent naming conventions/cases: by convention property names should be camel case and start with lower case
  rdfs:label "Owner"@en ;
  rdfs:comment """A list of legal owners of the resource.""" ;
  rdfs:range core:ListOfProperNames ;
  meta:jsonName "legal_owner" ;
  meta:access "readwrite" ;
  rdfs:domain core:Asset . 

#### Property section: Asset Description



### Image

core:Image a rdfs:Class ;
  rdfs:label "Image" ;
  rdfs:comment "OneAdobe Cloud Image Class, JPEG, PNG, etc." ;
  rdfs:subClassOf core:Asset .

core:dimensions a core:BaseProperty ;
  rdfs:label "Dimensions"@en ;
  rdfs:comment "" ;
  rdfs:range xmp:Dimensions ;
  meta:jsonName "dimensions" ;
  # TODO TBD 'mandatory'?
  rdfs:domain core:Image .
