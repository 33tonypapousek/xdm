{
  "id": "xdm/TouchPoint.json",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Touchpoint",
  "type": "object",
  "description": "The core touchpoint XDM is used to capture observations that are altering one or\nmore related XDMs/entities. The touchpoint captures information about the observation\ntaking place and when it is occurring. It is critical for time\ndomain analytics as it allows observation and analysis of changes that occur\nin windows of time and comparison with other windows of time to track trends.\n\nTouchpoint events are either explicit or implicit. Explicit events are direct observations\nof a human action taking place during a session. Implicit events are events that\nare being raised without a direct human action. Examples of implicit events\nare scheduled e-mail sending of newsletters, battery voltage reaching a\ncertain threshold, a person entering into range of a proximity sensor.\n\nWhile not all events are easily categorized across all data sources, it is\nextremely valuable to harmonize similar events into similar types for\nprocessing where possible, and the XDM specifications does this by defining a\nset of enumerated **type** attribute values with specific semantic meanings.\nWhere possible events must be constrained to these enumerated values to\nfacilitate interoperability.\n\n![TouchPoint](images/touchpoint.png)\n",
  "properties": {
    "dataSource": {
      "$ref": "../core/DataSource.json"
    },
    "timestamp": {
      "type": "string",
      "description": "The date and time when the first event of the touchpoint occured.\n"
    },
    "events": {
      "type": "object",
      "description": "The actions being performed during this observation.\n",
      "properties": {
        "productView": {
          "type": "boolean",
          "description": "A view of a product has occurred. (same as productView in Adobe Analytics).\n"
        },
        "productListOpen": {
          "type": "boolean",
          "description": "An open, initialization of a new product list has occurred.\n(same as scOpen in Adobe Analytics).\n"
        },
        "productListAdd": {
          "type": "boolean",
          "description": "An add of a product to the product list has occurred.\n(same as scAdd in Adobe Analytics).\n"
        },
        "productListRemove": {
          "type": "boolean",
          "description": "A removal of a product entry from a product list has occurred.\n(same as scRemove in Adobe Analytics).\n"
        },
        "productListView": {
          "type": "boolean",
          "description": "A view of a product list has occurred. (same as scView in Adobe Analytics)\n"
        },
        "saveForLater": {
          "type": "boolean",
          "description": "A request to save a product list for a future session.\n"
        },
        "checkout": {
          "type": "boolean",
          "description": "Some action during a checkout process of a product list, there can be\nmore than one checkout event if there are multiple steps in a checkout\nprocess. If there are multiple steps the event time information and\nreferenced page or experience is used to identify the step individual\nevents represent in order.\n"
        },
        "abandon": {
          "type": "boolean",
          "description": "A product list has been identified as no longer purchasable or accessible\nby the user without the user re-creating the product list from scratch.\n"
        },
        "productListReopen": {
          "type": "boolean",
          "description": "A product list that was no longer accessible has been re-activated by the\nuser, for example via a remarketing activity.\n"
        },
        "purchase": {
          "type": "boolean",
          "description": "An order has occurred. purchase is the only required action in a commerce\nconversion. Purchase must have a product list referenced. (same as Adobe Analytics)\n"
        },
        "returnRequest": {
          "type": "boolean",
          "description": "The creation of a product(s) return request. The product(s) are not\nphysically returned yet, this is the creation of a tracking ticket that\nregisters the need for a return to take place.\n"
        },
        "returnAuthorization": {
          "type": "boolean",
          "description": "The granting of the return request. E.g tracking numbers exchanged for the\nreturn authorization, return slips generated, return packaging flagged for\ndelivery to customer.\n"
        },
        "returnCheckin": {
          "type": "boolean",
          "description": "The return product(s) are formally received by the seller.\nThe commitment to refund has been met, but the refund may not have been\ncompleted yet.\n"
        },
        "subscribe": {
          "type": "boolean",
          "description": "Sign up for membership and/or the communication of information\n"
        },
        "unsubscribe": {
          "type": "boolean",
          "description": "Terminate a subscription."
        },
        "loggedIn": {
          "type": "boolean",
          "description": "A user action caused the authenticated state of that user to be\n"
        },
        "loggedOut": {
          "type": "boolean",
          "description": "A user or system action caused the authenticated state of that\nuser to be logged out of an account.\n"
        },
        "impression": {
          "type": "boolean",
          "description": "An advertisement has been placed in a potentially viewable way."
        },
        "view": {
          "type": "boolean",
          "description": "An experience or advertisement has been placed in a viewable way."
        },
        "click": {
          "type": "boolean",
          "description": "An advertisement has been placed, viewed and clicked on by a person."
        },
        "send": {
          "type": "boolean",
          "description": "An asynchronous message (email, SMS, MMS etc) has been dispatched to an persons\naccount/address/device.\n"
        },
        "bounce": {
          "type": "boolean",
          "description": "An asynchronous message has been returned by the receiving system.\n"
        },
        "nonDeliverable": {
          "type": "boolean",
          "description": "An asynchronous message failed to deliver in a way that indicates that no future\nmessages will be deliverable either to this address.\n"
        },
        "call": {
          "type": "boolean",
          "description": "Call center phone call event."
        },
        "download": {
          "type": "boolean",
          "description": "An application (mobile or desktop) has been downloaded.\n"
        },
        "install": {
          "type": "boolean",
          "description": "An application (mobile or desktop) has been launched for the first time.\nIt is normally not possible to track the installation process, so the first\nlaunch is what is normally used.\n"
        },
        "upgrade": {
          "type": "boolean",
          "description": "An application (mobile or desktop) has been  upgraded, its version number has changed.\n"
        },
        "launch": {
          "type": "boolean",
          "description": "An application (mobile or desktop) has been launched, it can be after an\ninstall, upgrade, crash or after a background period that is longer then\nthe default session duration.\n"
        },
        "crash": {
          "type": "boolean",
          "description": "An application (mobile or desktop) has shutdown unexpectedly. Triggered when\nthe application is not backgrounded before closing. Event is sent on application\nlaunch following the crash.\n"
        },
        "search": {
          "type": "boolean",
          "description": "A keyword search through web or mobile app.\n"
        },
        "submit": {
          "type": "boolean",
          "description": "A submission of application, lead or entry form etc.\n"
        },
        "request": {
          "type": "boolean",
          "description": "A information request for content, quotes etc.\n"
        }
      }
    },
    "endCustomerIds": {
      "type": "array",
      "description": "Condensed, normalized (mcId is not a separate thing) encapsulation of\nan end-customer identifier and the DataSource that defines what that\nidentifier is.  The term EndCustomer comes from the XDM:\n\nhttps://wiki.corp.adobe.com/display/marketingcloud/EndCustomer\n",
      "items": {
        "$ref": "../core/EndCustomerId.json"
      }
    },
    "environment": {
      "$ref": "../core/Environment.json",
      "description": "Information about the surrounding situation the event observation occurred\nin, specifically detailing transitory information such as the network or\nsoftware versions.\n"
    },
    "geo": {
      "$ref": "../core/Geo.json",
      "description": "The geographic location where an event was observed.\n"
    },
    "productListItems": {
      "type": "array",
      "description": "A list of items representing a product selected by a\ncustomer with specific options and pricing that are for that usage context\nat a specific point of time and may differ from the product record.\n",
      "items": {
        "$ref": "../core/ProductListItem.json"
      }
    },
    "device": {
      "$ref": "../core/Device.json",
      "description": "An identified Device/Application or Device/Browser instance that is\ntrackable across sessions, normally by cookies.\n"
    },
    "order": {
      "$ref": "../core/Order.json",
      "description": "Order placed for one or more products.\n"
    },
    "campaignContext": {
      "$ref": "../campaign/TouchPoint.json",
      "description": "Additional information about the touchpoint specific to campaign.\n"
    },
    "socialContext": {
      "$ref": "../social/TouchPoint.json",
      "description": "Additional information about the touchpoint specific to social activities.\n"
    }
  },
  "required": [
    "dataSource",
    "timestamp",
    "events",
    "endCustomerIds"
  ]
}
