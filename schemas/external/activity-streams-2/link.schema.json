{
  "meta:license": [
    "Copyright 2017 Adobe Systems Incorporated. All rights reserved.",
    "This file is licensed to you under the Apache License, Version 2.0 (the 'License');",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at http://www.apache.org/licenses/LICENSE-2.0"
  ],
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://ns.adobe.com/xdm/external/activity-streams-2/link",
  "title": "Link",
  "definitions": {
    "single-value": {
      "anyOf": [
        {
          "type": "string",
          "format": "uri"
        },
        {
          "$ref": "https://ns.adobe.com/xdm/external/activity-streams-2/object"
        },
        {
          "$ref": "https://ns.adobe.com/xdm/external/activity-streams-2/link"
        }
      ]
    },
    "multiple-values": {
      "items": {
        "$ref": "#/definitions/single-value"
      },
      "type": "array"
    },
    "object-or-link-or-array-of-object-or-link": {
      "oneOf": [
        {
          "$ref": "#/definitions/single-value"
        },
        {
          "$ref": "#/definitions/multiple-values"
        }
      ]
    }
  },
  "type": "object",
  "description": "A Link is an indirect, qualified reference to a resource identified by a URL. The fundamental model for links is established by [RFC5988](https://tools.ietf.org/html/rfc5988). Many of the properties defined by the Activity Vocabulary allow values that are either instances of `[Object](https://www.w3.org/TR/activitystreams-vocabulary/#dfn-object)` or `[Link](https://www.w3.org/TR/activitystreams-vocabulary/#dfn-link)`. When a `[Link](https://www.w3.org/TR/activitystreams-vocabulary/#dfn-link)` is used, it establishes a [qualified relation](http://patterns.dataincubator.org/book/qualified-relation.html) connecting the subject (the containing object) to the resource identified by the `[href](https://www.w3.org/TR/activitystreams-vocabulary/#dfn-href)`. Properties of the `[Link](https://www.w3.org/TR/activitystreams-vocabulary/#dfn-link)` are properties of the reference as opposed to properties of the resource.",
  "properties": {
    "activitystreams:href": {
      "description": "https://www.w3.org/TR/activitystreams-vocabulary/#dfn-href",
      "type": "string",
      "format": "uri"
    },
    "activitystreams:rel": {
      "title": "Link Relation",
      "description": "A link relation associated with a `[Link](https://www.w3.org/TR/activitystreams-vocabulary/#dfn-link)`. The value _MUST_ conform to both the [HTML5](https://www.w3.org/TR/html5/) and [RFC5988](https://tools.ietf.org/html/rfc5988) 'link relation' definitions. In the [HTML5](https://www.w3.org/TR/html5/), any string not containing the 'space' U+0020, 'tab' (U+0009), 'LF' (U+000A), 'FF' (U+000C), 'CR' (U+000D) or ',' (U+002C) characters can be used as a valid link relation.",
      "oneOf": [
        {
          "type": "string",
          "pattern": "^[a-z]([a-z]|[0-9]|\\.|-)*$"
        },
        {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[a-z]([a-z]|[0-9]|\\.|-)*$"
          }
        }
      ]
    },
    "activitystreams:mediaType": {
      "description": "https://www.w3.org/TR/activitystreams-vocabulary/#dfn-mediatype",
      "$ref": "https://ns.adobe.com/xdm/external/activity-streams-2/object#/definitions/mime-media-type"
    },
    "activitystreams:name": {
      "description": "https://www.w3.org/TR/activitystreams-vocabulary/#dfn-name",
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "https://ns.adobe.com/xdm/external/activity-streams-2/rdf-langstring"
        }
      ]
    },
    "activitystreams:hreflang": {
      "description": "https://www.w3.org/TR/activitystreams-vocabulary/#dfn-hreflang",
      "$ref": "https://ns.adobe.com/xdm/external/activity-streams-2/rdf-langstring#/definitions/tag"
    },
    "activitystreams:height": {
      "description": "https://www.w3.org/TR/activitystreams-vocabulary/#dfn-height",
      "type": "integer",
      "minimum": 0
    },
    "activitystreams:width": {
      "description": "https://www.w3.org/TR/activitystreams-vocabulary/#dfn-width",
      "type": "integer",
      "minimum": 0
    },
    "activitystreams:preview": {
      "description": "https://www.w3.org/TR/activitystreams-vocabulary/#dfn-preview",
      "$ref": "#/definitions/object-or-link-or-array-of-object-or-link"
    }
  }
}
