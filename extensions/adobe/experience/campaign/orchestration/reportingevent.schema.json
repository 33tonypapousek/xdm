{
  "meta:license": [
    "Copyright 2018 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "$id":
    "https://ns.adobe.com/experience/campaign/orchestration/reportingevent",
  "$schema": "http://json-schema.org/draft-06/schema#",
  "title": "User Journey Reporting Event",
  "type": "object",
  "meta:extends": ["https://ns.adobe.com/xdm/context/experienceevent"],
  "description": "",
  "definitions": {
    "reportingevent": {
      "properties": {
        "https://ns.adobe.com/experience/campaign/orchestration/reportingevent/dataProviderType": {
          "title": "Type of the data provider",
          "type": "string",
          "description": "The type of the data provider for data Enrichment",
          "meta:enum": {
            "acs": "The data provider for the data entity is ACS",
            "adobe.io": "The data provider for the data entity is Adobe IO",
            "acpps": "The data provider is ACP Profile Service",
            "selfEntity":
              "The data provider is self contained, entity contains injected data"
          }
        },
        "https://ns.adobe.com/experience/campaign/orchestration/reportingevent/dataEntityUID": {
          "title": "Unique identifier of data entity",
          "type": "string",
          "format": "uri",
          "description":
            "The Identifier for the data entity used for data enrichment"
        },
        "https://ns.adobe.com/experience/campaign/orchestration/reportingevent/orgID": {
          "title": "Organizational unit Identifier",
          "type": "string",
          "description":
            "Identifier of the Organizational unit for this Journey version"
        },
        "https://ns.adobe.com/experience/campaign/orchestration/reportingevent/actionUID": {
          "title": "Action Identifier",
          "type": "string",
          "format": "uri",
          "description": "Unique Identifier denoting the associated action."
        },
        "https://ns.adobe.com/experience/campaign/orchestration/reportingevent/actionType": {
          "title": "Action Type",
          "type": "string",
          "description": "The type of action to be performed.",
          "meta:enum": {
            "scheduledNotification":
              "This action type allows to specify scheduled notifications and wait for the notifications as incoming events for steps",
            "httpCall":
              "This action type is for a HTTP call on an external system",
            "actionWithPersonalization":
              "This action type describes an action with personalization that will be resolved at runtime for each voyager instance",
            "parameterizedAction":
              "This action type decribes an action with parameterization",
            "sendJourneyNotification":
              "This action type is to send notification for another journey",
            "acsWriter":
              "The ACS writer action performs REST calls to an Adobe Campaign Standard instance to write data",
            "acsMessageCenter":
              "The ACS Message Center action performs REST calls to an Adobe Campaign Standard instance to send messages with Message Center"
          }
        },
        "https://ns.adobe.com/experience/campaign/orchestration/reportingevent/eventID": {
          "title": "Event id",
          "type": "string",
          "format": "uri",
          "description": "The Identifier for the external Event received"
        },
        "https://ns.adobe.com/experience/campaign/orchestration/reportingevent/flowControlType": {
          "title": "Flow control",
          "type": "string",
          "description": "Flow control in the journey triggered by the event.",
          "meta:enum": {
            "End": "if the 'end' step has been reached, if this step exists",
            "Jump": "if a jump has been taken",
            "Timer":
              "if a transition has been applied, implying a scheduler notification",
            "Condition": "if a conditional step has been processed"
          }
        },
        "https://ns.adobe.com/experience/campaign/orchestration/reportingevent/eventMetrics": {
          "title": "Metrics for reporting",
          "$ref":
            "https://ns.adobe.com/experience/campaign/orchestration/reportingeventmetrics",
          "description":
            "The metrics for actions performed during this observation."
        },
        "https://ns.adobe.com/experience/campaign/orchestration/journey": {
          "title": "Journey or WorkFlow of an User",
          "type": "object",
          "description": "Schema for describing the Journey of an User ",
          "properties": {
            "journeyUID": {
              "title": "Journey Unique Identifier",
              "type": "string",
              "format": "uri",
              "description":
                "The unique identifier of the journey created by the marketer."
            },
            "journeyVersionUID": {
              "title": "Journey version identifier",
              "type": "string",
              "format": "uri",
              "description":
                "The unique identifier denoting the version of journey on which the user is active"
            }
          }
        }
      }
    },
    "required": [
      "https://ns.adobe.com/experience/campaign/orchestration/journey/journeyUID",
      "https://ns.adobe.com/experience/campaign/orchestration/journey/journeyVerUID",
      "https://ns.adobe.com/experience/campaign/orchestration/reportingevent/timestamp",
      "https://ns.adobe.com/experience/campaign/orchestration/reportingevent/orgId"
    ]
  },
  "allof": [
    {
      "$ref": "#/definitions/reportingevent"
    }
  ],
  "meta:status": "experimental"
}
