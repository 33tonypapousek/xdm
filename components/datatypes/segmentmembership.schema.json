{
  "allOf": [
    {
      "$ref": "#/definitions/segmentMembership"
    }
  ],
  "meta:status": "stable",
  "$schema": "http://json-schema.org/draft-06/schema#",
  "description": "Details about a segment membership.",
  "meta:license": [
    "Copyright 2018 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "title": "Segment membership",
  "type": "object",
  "definitions": {
    "segmentMembership": {
      "properties": {
        "xdm:payload": {
          "description": "Values that are directly related with the segment realization. This payload exists with the same \u0027validUntil\u0027 as the segment realization.  Note that the intention is that exactly one payload value be included, as indicated by the payload type.  This was originally modeled using \u0027oneOf\u0027, but due to limitations in our tooling that was removed.  This more semantically meaningful representation will be re-introduced in the future.",
          "title": "Payload",
          "type": "object",
          "properties": {
            "xdm:payloadNumberValue": {
              "description": "The number.",
              "title": "Value",
              "type": "number"
            },
            "xdm:payloadBooleanValue": {
              "description": "The boolean value.",
              "title": "Value",
              "type": "boolean"
            },
            "xdm:payloadPropensityValue": {
              "description": "The propensity.",
              "maximum": 1,
              "title": "Value",
              "type": "number",
              "exclusiveMinimum": 0,
              "examples": [
                0.5
              ]
            },
            "xdm:payloadType": {
              "meta:enum": {
                "number": "Number",
                "boolean": "Boolean",
                "propensity": "Propensity",
                "string": "String"
              },
              "description": "The type of payload.",
              "title": "Payload Type",
              "type": "string",
              "enum": [
                "boolean",
                "number",
                "propensity",
                "string"
              ],
              "examples": [
                "propensity"
              ]
            },
            "xdm:payloadStringValue": {
              "description": "The string value.",
              "title": "Value",
              "type": "string"
            }
          },
          "required": [
            "xdm:payloadType"
          ]
        },
        "xdm:profileStitchID": {
          "$ref": "https://ns.adobe.com/xdm/context/profileStitchIdentity"
        },
        "xdm:status": {
          "default": "realized",
          "meta:enum": {
            "existing": "Entity continues to be in the segment.",
            "exited": "Entity is exiting the segment.",
            "realized": "Entity is entering the segment."
          },
          "description": "Is the segment participation realized as part of the current request.",
          "title": "Status",
          "type": "string",
          "enum": [
            "existing",
            "realized",
            "exited"
          ],
          "examples": [
            "realized"
          ]
        },
        "xdm:segmentID": {
          "meta:status": "deprecated",
          "description": "The identity of the segment or snapshot definition in with the domain of the specific system that processes that type of segment. Deprecated.",
          "title": "Segment ID",
          "$ref": "https://ns.adobe.com/xdm/context/segmentidentity"
        },
        "xdm:lastQualificationTime": {
          "format": "date-time",
          "description": "The timestamp when the assertion of segment membership was made.",
          "title": "Last qualification time",
          "type": "string",
          "examples": [
            "2017-09-26T15:52:25+00:00"
          ]
        },
        "xdm:version": {
          "description": "The version of the segment definition used in this segment assertion. Version can be omitted in audience lists when all memberships versions are the same.",
          "title": "Version",
          "type": "string",
          "examples": [
            "1.0"
          ]
        },
        "xdm:validUntil": {
          "format": "date-time",
          "description": "The timestamp for when the segment assertion should no longer be assumed to be valid and should either be ignored or revalidated.",
          "title": "Valid until",
          "type": "string",
          "examples": [
            "2017-12-26T15:52:25+00:00"
          ]
        }
      }
    }
  },
  "$id": "https://ns.adobe.com/xdm/context/segmentmembership"
}